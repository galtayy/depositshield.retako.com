(()=>{var e={};e.id=888,e.ids=[888],e.modules={3509:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{E:()=>p,Z:()=>n});var o=r(9648),a=e([o]);let i=(o=(a.then?(await a)():a)[0]).default.create({baseURL:"http://localhost:5050",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response&&e.response.status,console.error("API Error:",e.response?e.response.data:e.message),Promise.reject(e)));let p={properties:{getAll:()=>i.get("/api/properties"),getById:e=>i.get(`/api/properties/${e}`),create:e=>i.post("/api/properties",e),update:(e,t)=>i.put(`/api/properties/${e}`,t),delete:e=>i.delete(`/api/properties/${e}`)},reports:{getAll:()=>i.get("/api/reports"),getByProperty:e=>i.get(`/api/reports/property/${e}`),getById:e=>i.get(`/api/reports/${e}`),getByUuid:e=>i.get(`/api/reports/uuid/${e}`),create:e=>i.post("/api/reports",e),update:(e,t)=>i.put(`/api/reports/${e}`,t),delete:e=>i.delete(`/api/reports/${e}`)},photos:{getAll:()=>i.get("/api/photos"),getById:e=>i.get(`/api/photos/${e}`),getByReport:e=>i.get(`/api/photos/report/${e}`),upload:(e,t)=>i.post(`/api/photos/upload/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}),updateNote:(e,t)=>i.put(`/api/photos/${e}/note`,{note:t}),addTag:(e,t)=>i.post(`/api/photos/${e}/tags`,{tag:t}),removeTag:(e,t)=>i.delete(`/api/photos/${e}/tags/${t}`),delete:e=>i.delete(`/api/photos/${e}`)},user:{getProfile:()=>i.get("/api/users/profile"),updateProfile:e=>i.put("/api/users/profile",e),changePassword:e=>i.put("/api/users/password",e)},auth:{login:e=>i.post("/api/auth/login",e),register:e=>i.post("/api/auth/register",e),getUser:()=>i.get("/api/auth/user")}},n=i;s()}catch(e){s(e)}})},6497:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{H:()=>u,a:()=>l});var o=r(997),a=r(6689),i=r(1163),p=r(2880),n=r(3509),c=e([p,n]);[p,n]=c.then?(await c)():c;let d=(0,a.createContext)({user:null,loading:!0,login:async()=>{},register:async()=>{},logout:()=>{},checkAuth:()=>{}});function u({children:e}){let[t,r]=(0,a.useState)(null),[s,c]=(0,a.useState)(!0),u=(0,i.useRouter)(),l=async(e,t)=>{try{c(!0);let s=await n.E.auth.login({email:e,password:t});if(s.data.token){localStorage.setItem("token",s.data.token),n.Z.defaults.headers.common.Authorization=`Bearer ${s.data.token}`;let e=(0,p.jwtDecode)(s.data.token);return r(e.user),c(!1),{success:!0}}}catch(e){return console.error("Login error:",e),c(!1),{success:!1,message:e.response?.data?.message||"Giriş yapılırken bir hata oluştu"}}},h=async(e,t,s)=>{try{c(!0);let o=await n.E.auth.register({name:e,email:t,password:s});if(o.data.token){localStorage.setItem("token",o.data.token),n.Z.defaults.headers.common.Authorization=`Bearer ${o.data.token}`;let e=(0,p.jwtDecode)(o.data.token);return r(e.user),c(!1),{success:!0}}}catch(e){return console.error("Register error:",e),c(!1),{success:!1,message:e.response?.data?.message||"Kayıt olurken bir hata oluştu"}}};return o.jsx(d.Provider,{value:{user:t,loading:s,login:l,register:h,logout:()=>{r(null),u.push("/login")},checkAuth:()=>(c(!1),!1)},children:e})}function l(){return(0,a.useContext)(d)}s()}catch(e){s(e)}})},8269:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>u});var o=r(997);r(6689);var a=r(3590),i=r(968),p=r.n(i);r(6764),r(2878),r(8819);var n=r(6497),c=e([a,n]);[a,n]=c.then?(await c)():c;let u=function({Component:e,pageProps:t}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p(),{children:[o.jsx("meta",{charSet:"utf-8"}),o.jsx("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),o.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"}),o.jsx("meta",{name:"description",content:"DepositShield - Property reporting and documentation application"}),o.jsx("meta",{name:"theme-color",content:"#4F46E5"}),o.jsx("link",{rel:"manifest",href:"/manifest.json"}),o.jsx("link",{rel:"icon",href:"/favicon.ico"}),o.jsx("link",{rel:"apple-touch-icon",href:"/icons/apple-touch-icon.png"}),o.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),o.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"}),o.jsx("title",{children:"DepositShield"})]}),(0,o.jsxs)(n.H,{children:[o.jsx(e,{...t}),o.jsx(a.ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})]})};s()}catch(e){s(e)}})},6764:()=>{},2878:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},9648:e=>{"use strict";e.exports=import("axios")},2880:e=>{"use strict";e.exports=import("jwt-decode")},3590:e=>{"use strict";e.exports=import("react-toastify")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[309,544],()=>r(8269));module.exports=s})();