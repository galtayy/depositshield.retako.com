(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9190],{9766:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return s(7349)}])},7349:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(5893),r=s(7294),i=s(1163),l=s(6153),n=s(856),c=e=>{let{item:t}=e,{updateQuantity:s,removeItem:r}=(0,n.j)();return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[t.imageUrl&&(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-md overflow-hidden",children:(0,a.jsx)("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150"}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["$",t.price.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center border rounded-md",children:[(0,a.jsx)("button",{className:"px-2 py-1 text-gray-600 hover:bg-gray-100",onClick:()=>s(t.id,Math.max(1,t.quantity-1)),"aria-label":"Decrease quantity",children:"-"}),(0,a.jsx)("input",{type:"number",min:"1",value:t.quantity,onChange:e=>{let a=parseInt(e.target.value);a>0&&s(t.id,a)},className:"w-12 text-center border-0 focus:ring-0","aria-label":"Quantity"}),(0,a.jsx)("button",{className:"px-2 py-1 text-gray-600 hover:bg-gray-100",onClick:()=>s(t.id,t.quantity+1),"aria-label":"Increase quantity",children:"+"})]}),(0,a.jsx)("button",{onClick:()=>{r(t.id)},className:"text-red-500 hover:text-red-700","aria-label":"Remove item",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,a.jsxs)("div",{className:"font-medium",children:["$",(t.price*t.quantity).toFixed(2)]})]})},d=()=>{let{cart:e,clearCart:t}=(0,n.j)();return 0===e.items.length?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-800",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"Add items to your cart to continue shopping"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-800",children:["Shopping Cart (",e.itemCount," items)"]}),(0,a.jsx)("button",{onClick:t,className:"text-sm text-red-500 hover:text-red-700","aria-label":"Clear cart",children:"Clear Cart"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:e.items.map(e=>(0,a.jsx)(c,{item:e},e.id))}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-gray-600",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["$",e.total.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2 text-gray-600",children:[(0,a.jsx)("span",{children:"Shipping"}),(0,a.jsx)("span",{children:"Calculated at checkout"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4 text-lg font-medium text-gray-800",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["$",e.total.toFixed(2)]})]})]})]})},o=s(1491);s(2920);var x=()=>{let e=(0,i.useRouter)(),{cart:t}=(0,n.j)(),{isAuthenticated:s}=(0,o.a)(),[c,x]=(0,r.useState)(!1);return(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Your Shopping Cart"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(d,{})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsxs)("span",{children:["Subtotal (",t.itemCount," items)"]}),(0,a.jsxs)("span",{children:["$",t.total.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Shipping"}),(0,a.jsx)("span",{children:"Calculated at checkout"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,a.jsx)("span",{children:"Tax"}),(0,a.jsx)("span",{children:"Calculated at checkout"})]}),(0,a.jsxs)("div",{className:"pt-3 border-t border-gray-200 flex justify-between font-medium text-gray-800",children:[(0,a.jsx)("span",{children:"Estimated Total"}),(0,a.jsxs)("span",{children:["$",t.total.toFixed(2)]})]})]}),(0,a.jsx)("button",{onClick:()=>{if(!s){localStorage.setItem("auth_redirect","/cart/checkout"),e.push("/login");return}e.push("/cart/checkout")},disabled:c||0===t.itemCount,className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors mb-3 ".concat(c||0===t.itemCount?"opacity-50 cursor-not-allowed":""),children:c?"Processing...":"Proceed to Checkout"}),(0,a.jsx)("button",{onClick:()=>{e.push("/products")},className:"w-full py-3 px-4 bg-gray-100 text-gray-800 font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Continue Shopping"})]})})]})]})})}}},function(e){e.O(0,[1664,6153,2888,9774,179],function(){return e(e.s=9766)}),_N_E=e.O()}]);