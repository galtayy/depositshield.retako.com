(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8803],{589:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password-reset/verify",function(){return s(8774)}])},5782:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(5893),o=s(7294),r=s(1664),l=s.n(r);function i(){let[e,t]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(!localStorage.getItem("cookiesAccepted")){let e=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(e)}},[]),e)?(0,n.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 transition-all duration-300 transform translate-y-0",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,n.jsx)("div",{className:"mb-4 md:mb-0 md:mr-4",children:(0,n.jsxs)("p",{className:"text-gray-700 text-sm",children:['We use cookies to enhance your browsing experience and analyze our traffic. By clicking "Accept All", you consent to our use of cookies as described in our'," ",(0,n.jsx)(l(),{href:"/cookies",className:"text-indigo-600 hover:underline",children:"Cookie Policy"}),"."]})}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsx)(l(),{href:"/cookies",className:"px-4 py-2 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Learn More"}),(0,n.jsx)("button",{onClick:()=>{localStorage.setItem("cookiesAccepted","true"),t(!1)},className:"px-4 py-2 text-sm text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors",children:"Accept All"})]})]})})}):null}},490:function(e){"use strict";e.exports={IS_DEVELOPMENT:!1,ENABLE_DEMO_MODE:!1,DEMO_ACCOUNTS:{EMAILS:["demo@example.com","test@depositshield.com"],ADMIN_EMAILS:[],VERIFICATION_CODE:"1234",TOKEN:"demo-token"},isDemoAccount:e=>!1,debugLog:(e,t)=>{}}},8774:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(5893),o=s(7294),r=s(1664),l=s.n(r),i=s(1163),a=s(9008),c=s.n(a),d=s(5782),u=s(610),m=s(490);let x=()=>(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M15 19.9201L8.47997 13.4001C7.70997 12.6301 7.70997 11.3701 8.47997 10.6001L15 4.08008",stroke:"#2E3642",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})});function f(){let[e,t]=(0,o.useState)(["","","",""]),[s,r]=(0,o.useState)(!1),[a,f]=(0,o.useState)(180),p=(0,i.useRouter)(),{email:h}=p.query,g=[(0,o.useRef)(null),(0,o.useRef)(null),(0,o.useRef)(null),(0,o.useRef)(null)];(0,o.useEffect)(()=>(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),document.documentElement.style.backgroundColor="#FBF5DA",document.documentElement.style.minHeight="100%",document.body.style.backgroundColor="#FBF5DA",document.body.style.minHeight="100vh",()=>{document.documentElement.style.backgroundColor="",document.body.style.backgroundColor=""}),[]),(0,o.useEffect)(()=>{let e=a>0&&setInterval(()=>f(a-1),1e3);return()=>clearInterval(e)},[a]),(0,o.useEffect)(()=>{p.isReady&&!h&&p.push("/password-reset")},[p.isReady,h,p]);let b=(s,n)=>{if(n.length>1&&(n=n.substring(0,1)),n&&!/^\d+$/.test(n))return;let o=[...e];o[s]=n,t(o),""!==n&&s<3&&g[s+1].current.focus()},y=(t,s)=>{"Backspace"===s.key&&""===e[t]&&t>0&&g[t-1].current.focus()},w=e=>{e.preventDefault();let s=e.clipboardData.getData("text/plain").trim();4===s.length&&/^\d{4}$/.test(s)&&(t(s.split("")),g[3].current.focus())},j=async()=>{if(!(a>0))try{(await u.E.auth.requestPasswordReset({email:h})).data.success&&f(180)}catch(e){if(console.error("Resend code error:",e),m.ENABLE_DEMO_MODE&&(0,m.isDemoAccount)(h)){f(180);return}}},N=async t=>{t&&t.preventDefault();let s=e.join("");if(4===s.length){r(!0);try{let e=await u.E.auth.verifyResetCode({email:h,verificationCode:s});e.data.success&&(sessionStorage.setItem("resetToken",e.data.token||"demo-token"),sessionStorage.setItem("resetEmail",h),p.push("/password-reset/new-password"))}catch(e){if(console.error("Verification error:",e),m.ENABLE_DEMO_MODE&&(0,m.isDemoAccount)(h)&&s===m.DEMO_ACCOUNTS.VERIFICATION_CODE){(0,m.debugLog)("Demo verification successful for email:",h),sessionStorage.setItem("resetToken",m.DEMO_ACCOUNTS.TOKEN),sessionStorage.setItem("resetEmail",h),p.push("/password-reset/new-password");return}}finally{r(!1)}}};return(0,o.useEffect)(()=>{e.every(e=>""!==e)&&!s&&N()},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:"Verify Code - DepositShield"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),(0,n.jsx)("meta",{name:"theme-color",content:"#FBF5DA"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,n.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,n.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,n.jsx)("meta",{name:"description",content:"Verify your code to reset your DepositShield password"}),(0,n.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"/icons/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"stylesheet",href:"/styles/modern/theme.css"}),(0,n.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700&display=swap",rel:"stylesheet"}),(0,n.jsx)("style",{children:"\n          body, html {\n            background-color: #FBF5DA;\n            min-height: 100vh;\n            margin: 0;\n            padding: 0;\n          }\n        "})]}),(0,n.jsxs)("div",{className:"relative min-h-screen w-full font-['Nunito']",style:{backgroundColor:"#FBF5DA"},children:[(0,n.jsx)("div",{className:"h-10 w-full"}),(0,n.jsxs)("div",{className:"w-full h-[65px] flex items-center justify-center p-5 bg-[#FBF5DA] relative",children:[(0,n.jsx)(l(),{href:"/password-reset",className:"absolute left-[20px] top-1/2 -translate-y-1/2",children:(0,n.jsx)(x,{})}),(0,n.jsx)("h1",{className:"font-semibold text-[18px] text-center text-[#0B1420]",children:"Verify Code"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center p-6 gap-6 mt-4",children:[(0,n.jsx)("div",{className:"relative h-[180px] w-[180px] flex items-center justify-center",children:(0,n.jsx)("div",{className:"absolute w-[180px] h-[180px] bg-white rounded-full shadow-sm overflow-hidden",children:(0,n.jsx)("img",{src:"/images/email-verification.png",alt:"Email verification",className:"absolute w[200px] h[100px] left[15px] top-[0px] transform rotate-[0deg]"})})}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-3 max-w-[320px]",children:[(0,n.jsx)("h2",{className:"font-bold text-[18px] text-center text-[#0B1420] whitespace-nowrap",children:"Let's confirm it's you"}),(0,n.jsxs)("div",{className:"font-semibold text-[13px] text-center text-[#515964]",children:[(0,n.jsx)("p",{className:"mb-1",children:"Enter the 4-digit code we sent to:"}),(0,n.jsx)("p",{className:"font-semibold",children:h})]})]}),(0,n.jsx)("div",{className:"flex flex-col items-center w-full mt-4",children:(0,n.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,n.jsx)("div",{className:"flex justify-center gap-4 w-full",children:[0,1,2,3].map(t=>(0,n.jsx)("div",{className:"box-border w-[60px] h-[56px] bg-white border rounded-[16px] relative transition-colors duration-200 border-[#D1E7D5]",children:(0,n.jsx)("input",{ref:g[t],type:"text",inputMode:"numeric",maxLength:"1",value:e[t],onChange:e=>b(t,e.target.value.replace(/[^0-9]/g,"")),onKeyDown:e=>y(t,e),onPaste:0===t?w:void 0,className:"w-full h-full text-center text-[24px] font-bold bg-transparent outline-none text-[#0B1420]",style:{backgroundColor:"transparent",borderRadius:"16px"},autoFocus:0===t&&!e[0]})},t))})})}),(0,n.jsxs)("button",{onClick:j,disabled:a>0,className:"w-full py-2 font-normal text-[14px] text-center text-[#1C2C40] mt-2",children:["Didn't get the code? ",(0,n.jsx)("span",{className:"font-semibold ".concat(a>0?"text-[#8A9099]":"text-[#4D935A]"),children:a>0?"Resend in ".concat(a,"s"):"Resend it"})]})]}),(0,n.jsx)("div",{className:"w-full flex justify-center fixed bottom-8",children:(0,n.jsx)("button",{onClick:N,disabled:s||e.some(e=>""===e),className:"w-full max-w-[350px] h-[56px] flex justify-center items-center py-4 bg-[#1C2C40] rounded-[16px] disabled:opacity-50 mx-4",children:(0,n.jsx)("span",{className:"font-bold text-[16px] text-[#D1E7E2]",children:s?"Processing...":"Verify & Continue"})})}),(0,n.jsx)("div",{className:"pb-[50px]"})]}),(0,n.jsx)(d.Z,{})]})}}},function(e){e.O(0,[1664,2888,9774,179],function(){return e(e.s=589)}),_N_E=e.O()}]);