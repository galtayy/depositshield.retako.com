(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9578],{8184:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/share-success",function(){return o(8592)}])},8592:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return i}});var l=o(5893),s=o(7294),r=o(1163),n=o(9008),a=o.n(n),c=o(1491);function i(){let{user:e,loading:t}=(0,c.a)(),o=(0,r.useRouter)(),{url:n,uuid:i}=o.query,[x,d]=(0,s.useState)(""),[h,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!t&&!e){o.push("/welcome");return}let l=n||localStorage.getItem("report_share_url"),s=i||localStorage.getItem("report_uuid");if(l)d(l);else if(s){let e=window.location.origin,t="".concat(e,"/reports/shared/").concat(s);d(t),console.log("Constructed share URL from UUID:",t)}return()=>{localStorage.removeItem("report_share_url"),localStorage.removeItem("report_uuid"),localStorage.removeItem("report_share_success"),localStorage.removeItem("lastSharedPropertyId")}},[e,t,o,n]);let p=async()=>{try{x&&(await navigator.clipboard.writeText(x),m(!0),console.log("Link copied to clipboard!"),setTimeout(()=>{m(!1)},3e3))}catch(e){console.error("Failed to copy link:",e),console.error("Failed to copy link. Please try again.")}},[u,f]=(0,s.useState)("Walkthrough");return(0,s.useEffect)(()=>{localStorage.getItem("lastSharedPropertyId")?f("Move-In Walkthrough"):localStorage.getItem("report_share_success")&&f("Move-Out")},[]),(0,l.jsxs)("div",{className:"relative w-full min-h-screen max-w-[500px] mx-auto bg-[#FBF5DA] font-['Nunito'] overflow-hidden",children:[(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:"Report Sent - DepositShield"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"}),(0,l.jsx)("meta",{name:"theme-color",content:"#FBF5DA"}),(0,l.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"})]}),(0,l.jsx)("div",{className:"w-full h-[100px]"}),(0,l.jsx)("div",{className:"w-[300px] h-[180px] mx-auto mt-5",children:(0,l.jsx)("img",{src:"/images/reportsuccess.png",alt:"Success",className:"w-full h-full object-contain"})}),(0,l.jsxs)("div",{className:"flex flex-col items-center p-0 gap-[8px] w-[300px] h-auto mx-auto mt-5",children:[(0,l.jsx)("h2",{className:"w-full font-bold text-[24px] leading-[120%] text-center text-[#0B1420]",children:"Your report was sent!"}),(0,l.jsxs)("p",{className:"w-full font-normal text-[14px] leading-[140%] text-center text-[#515964] mt-2 mb-4",children:["We've sent your time-stamped ",u.toLowerCase()," report to your landlord. You're covered."]}),x&&(0,l.jsxs)("div",{className:"w-full mt-4",children:[(0,l.jsx)("p",{className:"font-medium text-[14px] leading-[19px] text-[#6B7280] mb-2 text-center",children:"Share this report:"}),(0,l.jsxs)("div",{className:"flex items-center bg-[#F3F4F6] rounded-[12px] p-3 mb-4",children:[(0,l.jsx)("div",{className:"flex-grow truncate text-[14px] leading-[19px] text-[#0B1420] text-left",children:x}),(0,l.jsx)("button",{onClick:p,className:"ml-2 flex-shrink-0",children:h?(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z",fill:"#4D935A"})}):(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z",fill:"#1C2C40"})})})]}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,l.jsxs)("button",{onClick:()=>{if(x){let e=encodeURIComponent("".concat(u," Report")),t=encodeURIComponent("Hello,\n\nI've prepared a ".concat(u.toLowerCase()," report for your property. You can view it here:\n\n").concat(x,"\n\nThank you."));window.location.href="mailto:?subject=".concat(e,"&body=").concat(t)}},className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"bg-[#1C2C40] w-12 h-12 rounded-full flex items-center justify-center mb-2",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z",fill:"#D1E7E2"})})}),(0,l.jsx)("span",{className:"text-[12px] leading-[16px] text-[#515964]",children:"Email"})]}),(0,l.jsxs)("button",{onClick:()=>{if(x){let e=encodeURIComponent("Here's the ".concat(u.toLowerCase()," report for your property: ").concat(x));window.open("https://wa.me/?text=".concat(e),"_blank")}},className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"bg-[#1C2C40] w-12 h-12 rounded-full flex items-center justify-center mb-2",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M17.6 6.32C16.12 4.82 14.12 4 12 4C7.72 4 4.23 7.5 4.23 11.78C4.23 13.38 4.66 14.94 5.46 16.29L4.15 20L7.96 18.73C9.27 19.45 10.65 19.83 12.06 19.83H12.08C16.37 19.83 19.77 16.33 19.77 12.05C19.77 9.92 18.96 7.93 17.6 6.32ZM12.08 18.34C10.83 18.34 9.61 18 8.54 17.35L8.25 17.17L5.96 17.92L6.73 15.72L6.53 15.42C5.82 14.31 5.44 13.03 5.44 11.71C5.44 8.32 8.39 5.51 12.06 5.51C13.82 5.51 15.49 6.19 16.7 7.4C17.91 8.61 18.59 10.28 18.59 12.05C18.59 15.47 15.49 18.34 12.08 18.34ZM15.61 13.47C15.37 13.35 14.37 12.86 14.16 12.77C13.94 12.69 13.78 12.64 13.63 12.88C13.47 13.12 13.09 13.57 12.96 13.73C12.82 13.9 12.69 13.92 12.45 13.8C12.21 13.68 11.56 13.47 10.79 12.78C10.19 12.25 9.78 11.6 9.64 11.36C9.51 11.12 9.63 11 9.75 10.88C9.86 10.78 10 10.61 10.12 10.47C10.24 10.34 10.29 10.23 10.37 10.08C10.45 9.93 10.4 9.8 10.35 9.68C10.29 9.56 9.88 8.55 9.68 8.07C9.5 7.61 9.29 7.67 9.15 7.67C9.01 7.66 8.86 7.66 8.7 7.66C8.55 7.66 8.3 7.71 8.09 7.95C7.87 8.19 7.35 8.68 7.35 9.69C7.35 10.69 8.07 11.65 8.18 11.8C8.3 11.96 9.78 14.19 11.99 15.06C12.48 15.28 12.87 15.4 13.17 15.5C13.67 15.65 14.13 15.63 14.49 15.57C14.89 15.5 15.68 15.06 15.88 14.5C16.08 13.93 16.08 13.45 16.02 13.35C15.96 13.24 15.81 13.18 15.57 13.06L15.61 13.47Z",fill:"#D1E7E2"})})}),(0,l.jsx)("span",{className:"text-[12px] leading-[16px] text-[#515964]",children:"WhatsApp"})]})]})]})]}),(0,l.jsx)("div",{className:"fixed bottom-8 left-0 right-0 mx-auto w-[90%] max-w-[350px]",children:(0,l.jsx)("button",{onClick:()=>o.push("/"),className:"w-full h-[56px] flex flex-row justify-center items-center bg-[#1C2C40] rounded-[16px] font-bold text-[16px] text-[#D1E7E2]",children:"Done"})})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=8184)}),_N_E=e.O()}]);